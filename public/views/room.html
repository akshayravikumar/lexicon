

	 <!-- if game has an invalid name  -->

  <div ng-show = "gameInvalid"> 
    <div class = "row">
      <div class = "col m3 s1"> &nbsp; </div>
      
      <div class = "col m6 s10" style = "margin-top: 10%">
         <div class = "statusMessage center-align"> 
            <i class="material-icons" style = "font-size: 200px">report_problem</i> <br/>
            {{invalidMessage}} 
        </div>
      </div>

      <div class = "col m3 s1"> &nbsp; </div>
    </div>
  </div>


  <!-- while searching for game in database  -->

	<div ng-show = "!insideRoom && waiting && !gameInvalid" class="center-align" style = "margin: auto; margin-top: 10%; ">
	  <div class = "row">

    hi
        
        <div class = "col m3 s1">&nbsp;</div>

        <div class = "col m6 s10">
           <div class = "statusMessage">
             {{waitingMessage}}
             </div>

             <br/>

              <div class="preloader-wrapper big active">
              <div class="spinner-layer spinner-blue-only">
                <div class="circle-clipper left">
                  <div class="circle"></div>
                </div><div class="gap-patch">
                  <div class="circle"></div>
                </div><div class="circle-clipper right">
                  <div class="circle"></div>
                </div>
              </div>
            </div>
        </div>

        <div class = "col m3 s1">&nbsp;</div>
  
      </div> 
	</div>

	<!-- game exists, prompt for name  -->

	 <div ng-show = "gameExists && !insideRoom && !waiting && !gameInvalid" style = "margin: 0 auto; margin-top: 10%"> 

   <div class = "row">
        
        <div class = "col m3 s1">&nbsp;</div>

        <div class = "col m6 s10">


        <div class = "statusMessage center-align">
          Welcome to game {{gameName}}! Please enter your name 
                <div ng-show = "gameObject.password.length > 0"> and password</div>.
        </div>

        
        <form ng-submit="joinExistingGame()" style="margin-top:30px; width: 100%">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Name" ng-model="playerName" maxlength="10"  style = "font-size: 30px" required></input>
            <div ng-show = "gameObject.password.length > 0">
              <input type="text" class="form-control" placeholder="Password (leave blank for no password)" maxlength="10" style = "font-size: 30px"  ng-model="gamePassword"></input>
            </div>
          </div>
          <center>
          <br/>
            <button type="submit" class="center-align waves-effect waves-light btn-large">Join Game</button>
          </center>
        </form>

        <div class = "statusMessage"> {{statusMessage}} </div>

        </div>

        <div class = "col m3 s1">&nbsp;</div>

        </div>

      </div>

      <!-- game doesn't exist, prompt to create  -->

     <div ng-show = "!gameExists && !insideRoom && !waiting && !gameInvalid" style = "margin: 0 auto; margin-top: 10%"> 

     <div class = "row">
        
        <div class = "col m3 s1">&nbsp;</div>

        <div class = "col m6 s10">

     <div class = "statusMessage center-align">
          Game  {{gameName}} is empty. Fill in a few things and get started!
      </div>

      <form ng-submit="createNewGame()" style="margin-top:30px;">
        <div class="form-group">
          <input type="text"  placeholder="Name" style = "font-size: 30px"  ng-model="playerName" maxlength="10" required></input>
          <input type="text"  style = "font-size: 30px"  placeholder="Password (leave blank for no password)" ng-model="gamePassword" maxlength="10" ></input>
          <input type="number" style = "font-size: 30px"  placeholder="Max Players?"  ng-model="maxPlayers"value="4"></input>
          <input type="checkbox" class="form-control" ng-model="publicGame"></input>
        </div>
        <center>
          <br/>
            <button type="submit" class="center-align waves-effect waves-light btn-large">Create Game</button>
          </center>
      </form>

      <div class = "statusMessage"> {{statusMessage}} </div>

      </div>

      <div class = "col m3 s1">&nbsp;</div>

    </div>
 
    <!-- THE ROOM -->

    <div ng-show = "insideRoom">

    <div style = "height: 90vh; margin-top: 50px, margin-bottom: 50px">

          <div id = "roomHeader" class = "row" style="background-color:#3498db; height: 50px">

              <!-- stuff  -->
              <div class = "col m3" >
              </div>
              <!-- center -->
              <div class = "col m6" >
               <h2 class = "center-align" style = "font-size: 24px"> Game {{gameName}} </h2>
              </div>

              <!-- info  -->
              <div class = "col m3" >
                <div class = "right-align">
                  <div ng-show = "creator" > <b> Password: </b> {{gamePassword}} </div> 
                  There are <b> {{gameObject.num_players}} </b> players.
                </div>
              </div>
                   
          </div>

          <div class = "row">

          <div class = "col m9" >

          <button ng-click = "addLetter()"> Add Letter </button>

            <div id = "wordPile" style="background-color: #27ae60; width: 100%; height: 200px" class = "row">
            <table style = "table-layout:fixed; width: 100%">

               <tr ng-repeat = "i in [0,1,2,3,4,5,6,7,8,9,10,11,12, 13, 14, 15, 16, 17, 18, 19]" style = "width: 35px"> 
                <td ng-repeat = "j in [0,1,2,3,4,5,6,7,8,9]" ng-if = "20*j + i <  activeLetters.length" style = "width: 35px">
                 <div class = "draggable wordtile valign-wrapper" > 
                      <div class = "valign center-align" style = "width: 100%"> 
                        {{activeLetters[20*j + i].$value}} 
                      </div>
                  </div>
                </td>
               
              </tr> 

              </table>

                WORDPILE IS HERE
                 <div ng-show = "creator"> The password to this game is {{gamePassword}} - bring your friends! </div>
            </div>

            <div id = "roomFooter" valign="bottom" class = "row" style="background-color:#e67e22; height: 150px;  width: 100%">

            <center>

              <form>
                <div class="input-field">
                  <input type="text" class="form-control" id="exampleInputName2" placeholder="Type steal here">
                </div>
                <button type="submit" class="btn">GET WORD!</button>
            </form>

            </center>

            </div>
          </div>

          <div class = "col m3" id = "chat" style = "height: 90vh;">

          <div class = "row" style = "height: 90vh; background-color: #bdc3c7l; overflow: scroll; height: 100%;" scroll>
              <div id = "messages" ng-repeat = "m in messages">
                  <div ng-if = "m.type == 'message'">
                      <strong> {{m.name}} : </strong> {{m.text}}
                  </div>

                  <div ng-if = "m.type == 'info'">
                      <em> <b> {{m.text}} </b> </em>
                  </div>

              </div>
          </div>

          IN BETWEEN

            <div id = "chatFooter" class = "blue row" style="position: absolute; bottom: 0; height: 20px; clear:both; ">
              <form class="form-inline"ng-submit="sendMessage()">
                <div class="form-group">
                  <input type="text" class="form-control" ng-model = "messageBody" placeholder="Jane Doe">
                </div>
                <button type="submit" hidden>Send</button>
            </form>
            </div>

          </div>

          </div>
           
          </div>

    </div>

    <script>
   // target elements with the "draggable" class
interact('.draggable')
  .draggable({
    // enable inertial throwing
    inertia: true,
    // keep the element within the area of it's parent
    restrict: {
      restriction: "#wordPile",
      endOnly: true,
      elementRect: { top: 0, left: 0, bottom: 1, right: 1 }
    },

    // call this function on every dragmove event
    onmove: dragMoveListener,
    // call this function on every dragend event
  });

  function dragMoveListener (event) {
    var target = event.target,
        // keep the dragged position in the data-x/data-y attributes
        x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx,
        y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;

    // translate the element
    target.style.webkitTransform =
    target.style.transform =
      'translate(' + x + 'px, ' + y + 'px)';

    // update the posiion attributes
    target.setAttribute('data-x', x);
    target.setAttribute('data-y', y);
  }

  </script>


 